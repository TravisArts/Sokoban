<!DOCTYPE html>
<!-- <html lang="en" manifest="demo.appcache"> -->
<html lang="en">

<head>
    <meta charset=utf-8 name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />

    <link rel="stylesheet" type="text/css" href="Style/style.css">
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <link rel="mask-icon" href="website_icon.svg" color="red">
    <link rel="preload" href="Levels.json">
    <link rel "preload" href="buttons">


    <style>
        [piece]::before {
            content: attr(piece)"\a";
            font-family: "back";
        }

        [piece]::after {
            content: "\a"attr(piece);
            font-family: "fore";
        }
    </style>

    <script>
        document.addEventListener("readystatechange", readyStateDidChange)

        function readyStateDidChange(e) {
            console.log(document.readyState)
            if (document.readyState === "interactive") {
                //dom is ready, window.onload fires later
                document.removeEventListener("readystatechange", readyStateDidChange)
                LoadAllLevels()
            }
        }
    </script>

    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
      
        ga('create', 'UA-105778471-1', 'auto');
        ga('send', 'pageview');
      
      </script>

    <script type="text/javascript" src="JavaScript/hex.js"></script>
    <script type="text/javascript" src="JavaScript/ion.sound.js"></script>
    <script type="text/javascript" src="JavaScript/Sokoban.js"></script>
    <script type="text/javascript" src="JavaScript/keyboard.js"></script>
    <script type="text/javascript" src="JavaScript/application.js"></script>
    <script type="text/javascript" src="JavaScript/HTMLActuator.js"></script>
    <script type="text/javascript" src="JavaScript/StorageManager.js"></script>
    <script type="text/javascript" src="JavaScript/LevelStruct.js"></script>
    <script type="text/javascript" src="JavaScript/AutoMove.js"></script>



    <title>Sokoban: Microban levels</title>

</head>

<body>
    <div class="topnav" id="myTopnav">
        <div id="navTitle"></div>
        <div class="navButton" onClick='loadMenu("Original Levels")'> Original Levels </div>
        <div class="navButton" onClick='loadMenu("Boxxle")'> Boxxle </div>
        <div class="navButton" onClick='loadMenu("Dimitri & Yorick")'> Dimitri & Yorick </div>
        <div class="navButton" onClick='loadMenu("Extra")'> Extra </div>
        <div class="navButton" onClick='loadMenu("IQ Carrier")'> IQ Carrier </div>
        <div class="navButton" onClick='loadMenu("Simple Sokoban")'> Simple Sokoban </div>
        <div class="navButton" onClick='loadMenu("Still More")'> Still More </div>
        <div class="navButton icon" onclick="toggleResponse(this)">
            <div class="bar1"></div>
            <div class="bar2"></div>
            <div class="bar3"></div>
        </div>
    </div>

    <!--style="overflow: hidden;max-width: 3ch;overflow-wrap: break-word;"-->
    <!--<p id="demo">the solution goes here</p>-->
    <div class=gameArea>
        <div class=button-space>
            <div class="button restart-button ">
                <i id=restart-icon class="material-icons ">restart</i>
                 </div>
            <div class="button mute-button ">
                <i id=mute-icon class="material-icons ">volume_up</i>
            </div>
            <div class="button redo-button ">
                <i id=redo-icon class="material-icons ">redo</i>
            </div>
            <div class="button undo-button ">
                <i id=undo-icon class="material-icons ">undo</i>
            </div>
            <div class="button info-button ">
                <i id=info-icon class="material-icons ">info_outline</i>
            </div>
        </div>
        <div id="main " class=GameBoard onmousedown="mouseDown(event) " onmousemove="mouseMove(event) " onmouseup="mouseUp(event) ">
            <p id="GameBoard ">
            </p>
            <div class="GameSpace "></div>
            <div class="WallSpace "></div>
        </div>
        <div class="stats" id=score-space>
            <div class="block1 ">
                moves:
                <span class="moves ">0</span> pushes:
                <span class="pushes ">0</span> saved:
                <span class="saved ">0</span>
            </div>
            <div class="block2 ">
                Best:
                <span class="best-moves ">0</span> moves,
                <span class="best-pushes ">0</span> pushes
            </div>
            <div id="console">
            </div>
        </div>
    </div>
    <div class=navigation-footer>
        <button class=back onclick="previousLevel() ">
            <i class="material-icons navigation-button" >chevron_left</i>
        </button>
        <button class=forward onclick="nextLevel() ">
            <i class="material-icons navigation-button">chevron_right</i>
        </button>
    </div>

    <!-- Modal content -->
    <div id="myModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <!-- <span class="close">&times;</span> -->
                <h2>Sokoban</h2>
            </div>
            <div class="modal-body">
                <h1>
                    The Object of the Game
                </h1>
                
                <p>
                    In Sokoban, you are trying to get treasure <span piece="$" class="piece">$</span> (the little balls) through a maze to their proper locations (the outlined
                    squares). You push using the large red ball <span piece="@" class="piece">@</span>. The trasures are so heavy that you
                    can only push them one at a time, and there are no handles to pull them. Be careful that you don't get
                    one trapped in a corner—you won’t be able to pull it back out!
                </p>
                <br>
                <p>
                    There are over 400 different levels, separated into several collections in the Collections menu.
                </p>
                <h1>
                    To play
                </h1>

                <p>
                    After starting Sokoban, go to the Players menu to select yourself or to log in as a new player. (If no one has played before,
                    or you are the only player who has logged in before, the program will skip this step.) Sokoban keeps
                    track of which levels you have solved in the “Sokoban Scores” file.
                </p>
                <br>
                <p>
                    Using a mouse: If you place the cursor next to the pushball, the cursor will become an arrow, and you can click or drag to
                    move the pushball. Or, when the cursor is a cross, put it anywhere and click; if the pushball is free
                    to move there, it will move immediately. If you put the cursor on a treasure ball, the cursor turns into
                    a hand. Drag the mouse and release; if there is a clear path for the pushball, it will immediately go
                    to that treasure and move it where you want.
                </p>
                <br>
                <p>
                    Using a touch screen: touch anywhere if the pushball is free to move there, it will move immediately. If you touch a treasure
                    ball, you can drag it wherever you want it to go; if there is a clear path for the pushball, it will
                    immediately go to that treasure and move it where you want.
                </p>
                <br>
                <p>
                    You can also move using the arrow keys or WASD keys.
                </p>
                <br>
                <p>
                    Undoing mistakes: Command-Z, or Control-Z will undo a step; holding this combination down will undo repeatedly.
                </p>
            </div>
            <div class="modal-footer">
                <button class="close">close</button>
                <!-- <h3>(Modal Footer)</h3> -->
            </div>
        </div>
    </div>


</body>

</html>